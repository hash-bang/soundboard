"use strict";angular.module("angular-bs-tooltip",[]).directive("tooltip",function(){return{restrict:"A",scope:{tooltip:"@?",tooltipPosition:"@?",tooltipContainer:"@?",tooltipTrigger:"@?",tooltipHtml:"<",tooltipShow:"<",tooltipTether:"<"},controller:["$scope","$element","$interval",function($scope,$element,$interval){$scope.isVisible=!1,$scope.rebuild=function(){var elem=$($element),isVisible=$scope.isVisible;elem.hasClass("ng-tooltip")&&elem.tooltip("destroy"),$scope.rebuildTether(),elem.on("shown.bs.tooltip",function(){return $scope.isVisible=!0}).on("hidden.bs.tooltip",function(){return $scope.isVisible=!1}).tooltip({title:$scope.tooltip,placement:$scope.tooltipPosition||"top",container:"element"!=$scope.tooltipContainer&&"body",trigger:$scope.tooltipShow===!0||$scope.tooltipShow===!1?"manual":$scope.tooltipTrigger||"hover",html:!!$scope.tooltipHtml,animation:!1}).addClass("ng-tooltip"),($scope.tooltipShow===!0||$scope.tooltipShow!==!1&&isVisible)&&elem.tooltip("show")},$scope.tether,$scope.tetherTimer,$scope.rebuildTether=function(){if($scope.tooltipTether){var elem=$($element);elem.one("shown.bs.tooltip",function(){console.log("Shown!"),$scope.tether=new Tether({element:elem.data("bs.tooltip").$tip[0],target:elem[0],attachment:"top"==$scope.tooltipPosition?"bottom middle":"left"==$scope.tooltipPosition?"center right":"right"==$scope.tooltipPosition?"center left":"top middle",targetAttachment:"top"==$scope.tooltipPosition?"top middle":"left"==$scope.tooltipPosition?"center left":"right"==$scope.tooltipPosition?"center right":"bottom middle"}),($scope.tooltipTether===!0||isFinite($scope.tooltipTether))&&($scope.tetherTimer=$interval($scope.tether.position,$scope.tooltipTether===!0?100:$scope.tooltipTether))})}else $scope.tether&&($scope.tether.destroy(),$scope.tether=void 0,$interval.cancel($scope.tetherTimer))},$scope.$watchGroup(["tooltip","tooltipPosition","tooltipContainer","tooltipTrigger","tooltipHtml","tooltipShow","tooltipTether"],$scope.rebuild),$scope.$on("bs.tooltip.reposition",function(){$scope.tether?$scope.tether.position():$scope.rebuild()})}]}});